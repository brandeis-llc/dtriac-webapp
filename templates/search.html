{% extends "layout.html" %}

{% block head %}
{{ super() }}
<title>Search</title>
{% endblock %}


{% block header %}
<h3 class="title">Search</h3>
{% endblock %}

{% block content %}

<form class=searchboxaction="/search" method="post">
  <input type="hidden" name="search" value="true"/>
  Search:
  <input type="text" name="query" size="80"/>
  <input type="submit" value="Submit"/>
  &nbsp;<a href="/help">help</a>
<form>

<p/>
  
{% if result %}

<table cellpadding=5 cellspacing=0 border=1 bordercolor=lightgray>
  <tr>
    <td>Query</td>
    <td>{{ query }}</td>
  </tr>
  <tr>
    <td>Hits</td>
    <td>{{ result.sources.__len__() }} / {{ result.total_hits }}</td>
  </tr>
</table>

<p/>

<table cellpadding=5 cellspacing=0 border=1 bordercolor=lightgray>

  {% for hit in result.hits %}

  <tr>
    <td>
      {{ hit.score }}
      <a href=/doc?sentid={{ hit.source.docid }}>{{ hit.source.docid }}</a> -
      <span class="fname">{{ hit.source.docname }}</span><br/>
      {{ hit.source.text }}</td></tr>

  {% endfor %}

</table>

{% endif %}

{% endblock %}
